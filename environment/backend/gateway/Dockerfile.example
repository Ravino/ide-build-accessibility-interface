FROM node:14

ENV NODE_ENV=
ENV TARANTOOL_PORT=
ENV TARANTOOL_HOST=
ENV TARANTOOL_USER_NAME=
ENV TARANTOOL_USER_PASSWORD=
ENV MAILER_LANGUAGE_DEFAULT=
ENV MAILER_EMAIL_ADDRESS=
ENV MAILER_EMAIL_PASSWORD=
ENV MAILER_SMTP_ADDRESS=
ENV MAILER_SMTP_PORT=
ENV CONF_SET_COOKIE_NAME=
ENV CONF_SET_COOKIE_DOMAIN=
ENV CORS_ORIGIN=


RUN mkdir /www && mkdir /www/app
WORKDIR /www/app
COPY package.json .
RUN npm i
COPY . .
RUN npm run build:schema
CMD ["npm", "start"]
